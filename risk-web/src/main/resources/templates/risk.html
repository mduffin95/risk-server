<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Risk - game</title>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"
            integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
            crossorigin="anonymous"></script>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"/>

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
          integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous"/>

    <!-- Awesome Font-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
            integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
            crossorigin="anonymous"></script>
    <script src='https://cdn.jsdelivr.net/lodash/4.17.4/lodash.min.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment-with-locales.min.js'></script>
    <link rel="stylesheet" th:href="@{/css/main.css}"/>
</head>
<body>
<div class="container-fluid">
    <div class="map-container">
        <img class="map" alt="Risk board" src="https://upload.wikimedia.org/wikipedia/commons/4/4a/Risk_board.svg">
<!--        <div id="alaska" class="circle">5</div>-->
        <div th:each="territory : ${territories}"
             th:id="${territory.getName()}"
             th:style="'top: ' + ${territory.getTop()} + '%; left: ' + ${territory.getLeft()} + '%; border-color: ' + ${territory.getColor()}"
             class="circle"
             onclick="clicked(event)"
             th:text="${territory.getUnits()}"></div>
    </div>
</div>
<script>
    var lastClicked = null;

    function clicked(event) {
        event = event || window.event; // IE
        var target = event.target || event.srcElement; // IE

        var id = target.id;
        if (id == lastClicked) {
            lastClicked = null;
        } else {
            lastClicked = id;
        }
        console.log(lastClicked)
    }
</script>
</body>
</html>